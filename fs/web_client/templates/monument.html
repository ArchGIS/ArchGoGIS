<div class="content">
  <h2><%= t('monument.new') %></h2>
  <button class="send-button btn btn-primary">
    <i class="fa fa-cogs"></i>
    Создать
  </button>

  <div id="container">
    <ul>
      <li><a href="#home"><%= t('research.singular') %></a></li>
      <li><a href="#heritage"><%= t('heritage.singular') %></a></li>
      <li><a href="#monument"><%= t('monument.singular') %></a></li>
      <li><a href="#exc"><%= t('excavation.plural') %></a></li>
      <li><a href="#photo"><%= t('photo.plural') %></a></li>
      <li><a href="#topoplan"><%= t('topoplan.plural') %></a></li>
    </ul>

    <div id="home">
      <legend>Сведения об исследовании</legend>

      <div class="form-group find-author">
        <h4>Введите существующего автора исследования</h4>
        <label for="author-input">Имя автора <span class="required">*</span></label>
        <%= widget("SearchLine", authorsInputOptions, "author-input") %>
        <input id="author-input-id" data-for="author:Author" hidden type="id" name="id" data-req="up">
      </div>

      <div class="form-group">
        <label for="coauthor-input">Соавторы</label>
        <%= widget("SearchLine", coauthorsInputOptions, "coauthor-input") %>
        <input id="coauthor-input-id" data-few="true" data-for="coauthor:Author" data-subclass="Coauthor" hidden type="id" name="id"></input>
      </div>
      
      <div class="form-group find-report">
        <h4>Выберите существующий отчёт</h4>
        <label for="report-input">Название отчёта <span class="required">*</span></label>
        <input class="form-control" id="report-input">
        <input id="report-input-id" data-for="r:Report" type="id" hidden name="id" data-req="up">
      </div>

      <div hidden>
        <input class="form-control" id="research-input-id" data-for="rs:Research" type="id" name="id">
      </div>

      <button class="btn btn-primary btn-next" active="1">
        <i class="fa fa-cogs"></i>
        Далее
      </button>
    </div>

    <div id="heritage">
      <legend>Сведения об объекте культурного наследия</legend>

      <div class="form-group find-heritage">
        <label for="heritage-input">Название</label>
        <%= widget("SearchLine", heritageInputOptions, "heritage-input") %>
        <input id="heritage-input-id" data-for="heritage:Heritage" hidden type="id" name="id">
      </div>

      <button class="btn btn-primary btn-next" active="2">
        <i class="fa fa-cogs"></i>
        Далее
      </button>
    </div>

    <div id="monument">
      <legend>Сведения о памятнике</legend>

      <button class="send-button btn btn-primary">
        <i class="fa fa-cogs"></i>
        Создать
      </button>
    </div>

    <div id="exc">
      <legend>Сведения о вскрытиях</legend>

      <button id="add-exc-button" class="btn btn-primary">
        <i class="fa fa-cogs"></i>
        Добавить раскоп
      </button>
    </div>

    <div id="photo">
      <button id="add-photo-button" class="btn btn-primary">
        <i class="fa fa-cogs"></i>
        Добавить фото
      </button>
    </div>

    <div id="topoplan">
      <button id="add-topo-button" class="btn btn-primary">
        <i class="fa fa-cogs"></i>
        Добавить топоплан
      </button>
    </div>
</div>

<div id="map" class="maps"></div>

<!-- Создание нового автора -->
<script type="text/template" class="add-author">
  <div class="form-group">
    <h4>Добавление нового автора</h4>
    <label for="author-name-input">Имя автора <span class="required">*</span></label>
    <input class="form-control" id="author-name-input" data-for="author:Author" type="text" name="name" data-req>
  </div>

  <div class="checkbox">
    <label>
      <input id="more-author-checkbox" type="checkbox" dynamic="true">
      Дополнительная информация об авторе
    </label>
  </div>

  <div class="form-group" toggle-by="more-author-checkbox" need-option="true">
    <label for="author-birth-date-input">Год рождения</label>
    <input class="form-control" id="author-birth-date-input" data-for="author:Author" type="number" name="birthdate">
  </div>
  <div class="form-group" toggle-by="more-author-checkbox" need-option="true">
    <label for="author-photo-input">Фотография</label>
    <input id="author-photo-input" accept="image/jpeg,image/x-png" data-for="aimg:Image" type="file" name="fileid" data-subclass="AuthorImage">
    <br>
    <div class="alert alert-dismissible alert-info">
      Максимальный размер фотографии 10 МБ.
    </div>
  </div>
</script>


<!-- Создание нового отчёта и исследования -->
<script type="text/template" class="add-report">
  <h4>Добавление нового отчёта</h4>

  <div class="form-group">
    <label for="report-name-input">Название <span class="required">*</span></label>
    <input class="form-control" id="report-name-input" data-for="rep:Report" type="text" name="name" data-req>
  </div>
  <div class="form-group">
    <label for="report-year-input">Год написания отчёта<span class="required">*</span></label>
    <input class="form-control" id="report-year-input" data-for="rep:Report" type="number" name="year" data-req>
  </div>

  <div class="form-group">
    <label for="research-input-year">Год проведения исследования</label>
    <input class="form-control" id="research-input-year" data-for="rs:Research" type="number" name="year">
  </div>

  <div class="form-group">
    <label for="research-type-selector">Тип исследования</label>
    <select class="form-control" id="research-type-selector" data-for="rt:ResearchType" type="id" name="id" dynamic="true"></select>
  </div>

  <div class="form-group">
    <label for="report-file-input">Файл отчёта</label>
    <input id="report-file-input" accept=".pdf,.doc,.docx" type="file" data-for="rep:Report" name="fileid">
    <div class="alert alert-dismissible alert-info">
      Максимальный размер документа 50 МБ.
    </div>
  </div>

  <div class="checkbox">
    <label for="more-report-checkbox">
      <input id="more-report-checkbox" type="checkbox" dynamic="true">
      Дополнительная информация об отчёте
    </label>
  </div>
  <div class="form-group" toggle-by="more-report-checkbox" need-option="true">
    <label for="report-city-input">Город</label>
    <%= widget("SearchLine", citiesInputOptions, "report-city-input") %>
    <input id="report-city-input-id" data-for="city:City" hidden type="id" name="id">
  </div>
  <div class="form-group" toggle-by="more-report-checkbox" need-option="true">
    <label for="report-organization-input">Учреждение - место хранения отчёта</label>
    <input class="form-control" id="report-organization-input">
    <input id="report-organization-input-id" data-for="org:Organization" type="id" hidden name="id">
  </div>
  <div class="form-group" toggle-by="more-report-checkbox" need-option="true">
    <label for="report-code-input">Номер</label>
    <input class="form-control" id="report-code-input" data-for="rep:Report" type="text" name="code">
  </div>

  <div hidden>
    <input class="form-control" id="research-input-name" data-for="rs:Research" type="text" name="name">
  </div>
</script>

<!-- Форма для добавления культуры -->
<script type="text/template" class="add-culture">
  <div class="form-group">
    <label for="culture-name-input">Новая культурная принадлежность</label>
    <input id="culture-name-input" class="form-control" data-for="c:Culture" type="text" name="name">
  </div>
</script>

<!-- Форма для добавления ОКН -->
<script type="text/template" class="add-heritage">
  <h4>Создание нового ОКН</h4>
  <div class="form-group">
    <label for="heritage-name-input">Название <span class="required">*</span></label>
    <input class="form-control" id="heritage-name-input" data-for="heritage:Heritage" type="text" name="code" data-req>
  </div>
  <div class="form-group">
    <label for="heritage-border-input">Описание границ</label>
    <textarea class="form-control" id="heritage-border-input" data-for="heritage:Heritage" type="text" name="border"></textarea>
  </div>
  <div class="form-group">
    <label for="heritage-security-input">Предмет охраны</label>
    <input class="form-control" id="heritage-security-input" data-for="heritage:Heritage" type="text" name="security">
  </div>
  <div class="form-group">
    <label for="heritage-files-input">Файл документа</label>
    <input accept=".pdf,.doc,.docx" id="heritage-files-input" data-for="file:File" type="file" name="fileid">

    <div class="alert alert-dismissible alert-info">
      Максимальный размер документа 50 МБ.
    </div>
  </div>
</script>


<!-- Форма для добавления вскрытий -->
<script type="text/template" class="add-exc">
  <h4>Добавление нового вскрытия</h4>
  <div class="form-group">
    <label for="exc-name-input">Название вскрытия</label>
    <input class="form-control" id="exc-name-input" data-for="exc:Excavation" type="text" name="name"></input>
  </div>
  <div class="form-group">
    <label for="exc-boss-input">Руководитель работ</label>
    <input class="form-control" id="exc-boss-input" data-for="exc:Excavation" type="text" name="boss"></input>
  </div>
  <div class="form-group">
    <label for="exc-area-input">Площадь (м²)</label>
    <input class="form-control" id="exc-area-input" data-for="exc:Excavation" type="number" name="area"></input>
  </div>
  <div class="form-group">
    <label for="exc-depth-input">Глубина (см)</label>
    <input class="form-control" id="exc-depth-input" data-for="exc:Excavation" type="number" name="depth"></input>
  </div>

  <div id="exc-coord-picker" class="coords">
    <div class="form-group">
      <label for="exc-x">
        Координата X
      </label>
      <input class="form-control" id="exc-x" data-for="exc:Excavation" type="number" name="x"></input>
    </div>
    <div class="form-group">
      <label for="exc-y">
        Координата Y
      </label>
      <input class="form-control" id="exc-y" data-for="exc:Excavation" type="number" name="y"></input>
    </div>
  </div>
  <div class="alert alert-dismissible alert-info">
    Нажмите на кнопку для выбора координат. Формат для ручного заполнения: 55.5555, 49.5656.
  </div>
</script>